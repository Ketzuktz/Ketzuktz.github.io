- name: Diluc
  rarity: 5
  element: pyro
  weapon: Claymore
  max_HP: 10
  max_energy: 3
  faction: [Mondstadt]
  skills:
    - name: Tempered Sword
      type: Normal Attack
      cost:
        die:
          pyro: 1
          unaligned: 2
      effect:
        - damage:
            type: physical
            value: 2
        - energy: 1
      comment: "Deals 2 Physical DMG."
    - name: Searing Onslaught
      type: Elemental Skill
      cost:
        die:
          pyro: 3
      effect:
        - damage:
            type: pyro
            value: 3
        - energy: 1
        - lua_plugin:
            name: Searing Onslaught
            implementation: |
              function on_skill_using(character, event)
                local token = character.tokens.get("Searing Onslaught", life_cycle="round_end", default=1)
                local sub_event = sub_event(event, "Searing Onslaught")
                if token.value < 3 then
                  sub_event.token.increment("Searing Onslaught", 1)
                else
                  sub_event.token.set("Searing Onslaught", 0)
                  sub_event.damage.increment(2)
                end
              end
      comment: Deals 3 Pyro DMG. For the third use of this Skill each Round, deals +2 DMG.
    - name: Dawn
      type: Elemental Burst
      cost:
        die:
          pyro: 4
        energy: 3
      effect:
        - damage:
            type: pyro
            value: 8
        - buff_get:
            name: Pyro Infusion
      comment: Deals 8 Pyro DMG. This character gains Pyro Infusion.
