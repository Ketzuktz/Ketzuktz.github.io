# gicg_sim

该模块主要用于模拟游戏内核。

## 事件

游戏状态的变化称为事件。举个例子，当进入游戏时：

- 首先触发 "游戏开始时" 事件，该事件会让双方抽取 5 张手牌，允许一次替换，并选择出战角色；
- 接着触发 "回合开始" (round=1) 事件，该事件让双方 roll 骰子，并允许 reroll；
- 随后触发 "角色 x 轮次" 事件，该事件允许 x 进行交互；
  - 如果 x 选择了战斗行动，则通过该事件结束自己本次行动；
  - 如果 x 选择了结束回合，则获得一个特殊标记，用于自动跳过 x 的轮次，回合末清除；
  - 其他行动不交换行动权；
- 一方结束回合时，如果对方已经结束，则进入回合末；
- 触发 "回合结束" (round=1) 事件，该事件让双方摸 2 张牌；
- 触发 "回合开始" (round=2) 事件 ……


## 动作

玩家的操作称为动作，每个动作都可能有资源需求：

1. 游戏开始时，玩家摸五张牌，并选择其中任意张弃置并重摸，随后选择出战角色。本次重摸有保护机制，必定与弃置的卡牌不同名。
   - 重新摸牌：需要 “待确认要重摸的牌” 资源
   - 选择出战角色：需要 “未设置出战角色” 资源
