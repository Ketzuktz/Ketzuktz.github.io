# gicg_sim

该模块主要用于模拟游戏内核。

采用 `GameManager` 作为主控模块，其主要包含 `GameState` 作为游戏状态，且含有 `operation_history` 用于记录用户操作。

# 玩家动作建模

需要两种对象：

1. 描述一个系统事件 SystemEvent，如 `DrawCard(count = 8)`
2. 描述一个玩家行为 PlayerOperation，如 `RedrawCard(count = 3)`

每个后者都可以判定其触发哪个/哪些系统事件。

举个例子，当进入游戏时

- 首先触发 "游戏开始时" 事件，该事件会让双方抽取 5 张手牌，允许一次替换，并选择出战角色；
- 接着触发 "回合开始" (round=1) 事件，该事件让双方 roll 骰子，并允许 reroll；
- 随后触发 "角色 x 轮次" 事件，该事件允许 x 进行交互；
  - 如果 x 选择了战斗行动，则通过该事件结束自己本次行动；
  - 如果 x 选择了结束回合，则获得一个特殊标记，用于自动跳过 x 的轮次，回合末清除；
  - 其他行动不交换行动权；
- 一方结束回合时，如果对方已经结束，则进入回合末；
- 触发 "回合结束" (round=1) 事件，该事件让双方摸 2 张牌；
- 触发 "回合开始" (round=2) 事件 ……
